<html>
<head>
  <meta charset="utf-8">
  <title>Test Suite</title>
  <link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-2.20.1.css">
  <script src="../app/script.js"></script>
</head>
<body>
  <div id="qunit"></div>
  <div id="qunit-fixture"></div>
  <script src="https://code.jquery.com/qunit/qunit-2.20.1.js"></script>

  <table class="w3-table w3-bordered">
    <thead>
      <tr><th>Name</th><th>Type</th></tr>
    </thead>
    <tbody id="results">
    </tbody>
  </table>
  <script>
    QUnit.module('script', function() {

      QUnit.test('output table attributes', function(assert) {
        outputTable({ features: [ { 
          attributes:{ NAME: "test-name", TYPE: "test-type" }, 
          geometry:{} } 
        ] });
        let element = document.getElementById("results");
        let row = element.children.item(0); // why 1 not 0 - becasue we added the row twice
        assert.equal(row.children.item(0).innerHTML, "test-name");
        assert.equal(row.children.item(1).innerHTML, "test-type");
      });

      QUnit.test('output table length', function(assert) {
        outputTable({ features: [ { 
          attributes:{ NAME: "test-name", TYPE: "test-type" }, 
          geometry:{} } 
        ] });
        let element = document.getElementById("results");
        assert.equal(element.children.length, 1);
      });

      QUnit.test('Map token defined', function(assert) {
        assert.ok(MY_TOKEN);
      });      

    });
  </script>
</body>
</html>